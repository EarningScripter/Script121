<!DOCTYPE html>
<html>
<meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<meta name="viewport" content="width=device-width, user-scalable=no">
<head>
    <meta charset="utf-8"/>
    <title>Earning Scripter</title>
    <script src="jquery-3.4.1.min.js%2bminesweeper.js%2cq201902051041.pagespeed.jc.Nf8HOkR9tL.js"></script><script>eval(mod_pagespeed_8ufMph4uEu);</script>
    <script>eval(mod_pagespeed_4MIw_44TvK);</script>
    <style type="text/css">body{font-family:sans-serif}table{font-size:180%}td{border:1px solid #000;background:#ff9;text-align:center;min-width:1em;min-height:1em}footer{font-size:80%}</style>
  </head>
  <body>
    <main>
      <p>
        This page requires Javascript and a modern browser.
      </p>
    </main>
    <footer>
      Created by <a href="#">Earning Scripter</a>.
    </footer>
    <script>
      $(function(){
  $('main').html('<table></table><p>The best MOD, only for you. Join <a href="#">Telegram</a>.</p><p>Columns: <input type="number" id="cols" min="1" value="6" /> Rows: <input type="number" id="rows" min="1" value="4" /> Mines: <input type="number" id="mines" min="1" value="3" /> <button id="generate">Generate</button></p>');
  $('body').on('click', '#generate', function(){
    var num_rows  = $('#rows').val();
    var num_cols  = $('#cols').val();
    var num_mines = $('#mines').val();
    var table = $('table');
    // generate mines
    var mines = new Array();
    for(var i = 0; i < num_mines; i++){
      var new_mine = {};
      var new_mine_valid = false;
      while(!new_mine_valid){
        new_mine.row = Math.floor((Math.random() * num_rows));
        new_mine.col = Math.floor((Math.random() * num_cols));
        new_mine_valid = true;
        for(j = 0; j < mines.length; j++){
          if((mines[j].row == new_mine.row) && (mines[j].col == new_mine.col)) new_mine_valid = false;
        }
      }
      mines.push(new_mine);
    }
    console.log(mines);
    // generate grid
    table.html('');
    for(var r = 0; r < num_rows; r++){
      var tr = $('<tr>');
      for(var c = 0; c < num_cols; c++){
        var contains_mine = false
        for(j = 0; j < mines.length; j++){
          if((mines[j].row == r) && (mines[j].col == c)) contains_mine = true;
        }
        if(contains_mine){
          tr.append('<td>ðŸ’¥</td>');
        } else {
          // calculate number of ajacent mines
          var number = 0;
          for(var a = (r - 1); a <= (r + 1); a++){
            for(var b = (c - 1); b <= (c + 1); b++){
              for(j = 0; j < mines.length; j++){
                if((mines[j].row == a) && (mines[j].col == b)) number++;
              }
            }
          }
          if(number == 0) {
            tr.append('<td>&nbsp;</td>');
          } else {
            tr.append('<td>' + number + '</td>');
          }
        }
      }
      table.append(tr);
    }
  })
});

    </script>
  </body>
</html>
